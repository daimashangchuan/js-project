<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>网易帐号中心</title>
    <link rel="shortcut icon" href="../imgs/favicon.ico"/>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/zc.css">
</head>
<body bgcolor="#efefef">
<header>
    <div class="inner">
        <i class="icon1 i1"></i>
        <p class="p1">
            已有帐号？去
            <a href="">登录</a>
        </p>
    </div>
</header>
<div class="inner">
    <div class="form">
        <div class="pu">
            <a class="a1" href="">普通帐号注册</a>
            <a class="a2" href="">
                靓号注册
                <p class="p2">new</p>
            </a>
        </div>
        <form name="myform">
            <div class="input-out">
                <div class="label">
                    帐号：
                </div>
                <input name="email" type="text" placeholder="网易邮箱/其他邮箱">
                <span id="email" class="red_text"></span>
            </div>
            <div class="input-out">
                <div class="label">
                    密码：
                </div>
                <input name="password" type="password" placeholder="6-16位密码（由字母/数字/下划线组成）">
                <span id="password" class="red_text"></span>
            </div>
            <div class="input-out">
                <div class="label">
                    确认密码：
                </div>
                <input name="password_again" type="password" placeholder="再次输入密码">
                <span id="password_again" class="red_text"></span>
            </div>
            <div class="input-out">
                <div class="label" id="v_code">
                    验证码：
                </div>
                <div class="yzm" id="box_yzm">
                    <div class="jiantou" id="div_jt">
                        <i class="icon2 i2"></i>
                    </div>
                    <span>向右滑动滑块填充拼图</span>
                </div>
            </div>
            <div class="input-out">
                <div class="label">
                    手机号：
                </div>
                <input type="text" name="tel_number" placeholder="11位手机号" >
                <span id="tel_number" class="red_text"></span>
            </div>
            <div class="input-out" style="height: 44px">
                <div class="p3">
                    <p class="label"></p>
                    <span>切换到国际手机</span>
                </div>
                <div class="p4">
                    <p class="label"></p>
                    <span>忘记密码时，可通过手机快速找回密码</span>
                </div>
            </div>
            <div class="input-out">
                <div class="label" >
                    短信验证码：
                </div>
                <input type="text" name="tel_code" placeholder="输入短信验证码（6位数字）">
                <span id="tel_code" class="red_text"></span>
            </div>
            <div class="input-out">
                <div class="label">

                </div>
                <div class="zhuce" onclick="fun()">
                    注 &nbsp;&nbsp;&nbsp; 册
                </div>
            </div>
            <div class="input-out">
                <div class="label">

                </div>
                <span class="span1">
                   <input type="checkbox" class="xuanzhong">
                    用户勾选即代表同意《网易邮箱服务条款》《网易隐私政策》
                </span>
            </div>
        </form>
        <div class="img">
        <a href="#" class="a3">
            <img src="../imgs/reg%252Fapp_xc_small_170402.png">
        </a>
        </div>
    </div>
</div>
<footer>
    <div class="inner">
    <p class="p4">
        <a href="">About NetEase</a>-
        <a href="">公司简介</a>-
        <a href="">联系方式</a>-
        <a href="">OAuth2.0认证</a>-
        <a href="">招聘信息</a>-
        <a href="">客户服务</a>-
        <a href="">相关法律</a>-
        <a href="">网络营销</a>
    </p>
    <p class="p5">网易公司版权所有 ©1997-2018</p>
    </div>
</footer>
<script>
//    验证检测
    function fun(){

        var email=document.myform.email.value;
        var span_email=document.getElementById("email");

        var password=document.myform.password.value;
        var span_password=document.getElementById("password");

        var password_again=document.myform.password_again.value;
        var span_password_again=document.getElementById("password_again");

        var tel_number=document.myform.tel_number.value;
        var span_tel_number=document.getElementById("tel_number");


        var tel_code=document.myform.tel_code.value;
        var span_tel_code=document.getElementById("tel_code");

        console.log( span_tel_number,span_tel_code);
        var tag=true;
        if(email==""){
            span_email.innerHTML="账号不得为空";
            span_email.style.color="red";
            tag=false;

        }else{

            var reg_e =/^[A-Za-z0-9]+([-_.][A-Za-z0-9]+)*@([A-Za-z0-9]+[-.])+[A-Za-z0-9]{2,5}$/;

            var state_e=reg_e.test(email);

            if(!state_e){
                span_email.innerHTML="请输入正确的邮箱格式";
                span_email.style.color="red";
                tag=false;
            }
        }
        if(password==""){
            span_password.innerHTML="密码不得为空";
            span_password.style.color="red";
            tag=false;
        }else {
//            密码 以字母开头，长度在6-18之间，只能包含字符、数字和下划线
            var reg_pw=/^[a-zA-Z]\w{5,17}$/;
            var state_pw=reg_pw.test(password);
            if(!state_pw){
                span_password.innerHTML="密码格式不正确";
                span_password.style.color="red";
                tag=false;
            }
        }
        if(password_again==""){
            span_password_again.innerHTML="密码不得为空";
            span_password_again.style.color="red";
            tag=false;
        }
        if(password!="" && password_again!="" && password!=password_again){
            span_password_again.innerHTML="两次密码输入不一致";
            span_password_again.style.color="red";
            tag=false;
        }

        if(tel_number==""){
            span_tel_number.innerHTML="手机号不得为空";
            span_tel_number.style.color="red";
            tag=false;
        }else {
            /*  1--以1为开头；
             2--第二位可为3,4,5,7,8,中的任意一位；
             3--最后以0-9的9个整数结尾。*/
            var reg_num =/^[1][3,4,5,7,8][0-9]{9}$/;
            var state_num=reg_num.test(tel_number);
            if(!state_num){
                span_tel_number.innerHTML="请输入正确的手机号";
                span_tel_number.style.color="red";
                tag=false;
            }
        }
        if(tel_code==""){
            span_tel_code.innerHTML="手机验证码不得为空";
            span_tel_code.style.color="red";
            tag=false;
        }else {
            var reg_code =/^\d{6}$/;
            var state_code=reg_code.test(tel_code);
            if(!state_code){
                span_tel_code.innerHTML="请输入正确的验证码";
                span_tel_code.style.color="red";
                tag=false;
            }
        }


        if(tag){
            //把name为myform的form提交  把表单里的内容传给request
            document.myform.submit();
            window.alert("成功注册");
        }
    }
</script>
<script>
//    验证码滑块
    var oDiv=document.getElementById("div_jt");
    var oBox=document.getElementById("box_yzm");

    oDiv.onmousedown=function(ev){
        var oEvent=ev||event;
        var x=oEvent.clientX-oDiv.offsetLeft;
        var y=oEvent.clientY-oDiv.offsetTop;
        document.onmousemove=function(ev){
            var oEvent=window.event||ev;
            var left=oEvent.clientX-x;
            var top=oEvent.clientY-y;
            if(left<0){
                left=0;
            }
            if (left>oBox.offsetWidth-40){
                left=oBox.offsetWidth-40;
            }
            if (top<0){
                top=0;
            }
            if (top>0){
                top=0;
            }
            oDiv.style.left=left+"px";
            oDiv.style.top=top+"px";
        };
        document.onmouseup=function(){
            document.onmousemove=null;
        }

    }
</script>
</body>
</html>