<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #box{
            width: 500px;
            height: 50px;
            background: red;
            margin: 50px auto;
            border-radius: 25px;
            position: relative;
        }
        #odiv{
            width: 80px;
            height: 80px;
            background: blueviolet;
            margin: 50px auto;
            border-radius: 50%;
            position: absolute;
            left: 0;
            top: -60px;
        }
    </style>
</head>
<body>
<div id="box">
    <div id="odiv"></div>
</div>
<script>
    var box = document.getElementById('box'),
            div = document.getElementById('odiv');
    div.onmousedown = function(ev){
        var event = ev||event;
        var x = event.clientX - div.offsetLeft;
        var y = event.clientY - div.offsetTop;
        document.onmousemove = function(ev){
            var event = ev||event;
            var left = event.clientX - x;
            var top = event.clientY - y;
            console.log(x, y);
            if(left<0){
                left = 0;
            }
            if(left > box.offsetWidth - div.offsetWidth){
                left = box.offsetWidth - div.offsetWidth
            }
            if(top<-60){
                top=-60;
            }
            if(top>-60){
                top=-60;
            }
            div.style.left = left + 'px';
            div.style.top = top + 'px'
        };
        document.onmouseup = function(){
            document.onmouseup = null;
        }
    }
</script>
</body>
</html>